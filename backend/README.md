# AgentBook Backend - æ¨¡æ“¬å¼•æ“èªªæ˜

> ğŸ­ é€™ä¸æ˜¯éŠæˆ²ï¼Œé€™æ˜¯ AI ç¤¾äº¤è¡Œç‚ºæ¨¡æ“¬å™¨

## æ ¸å¿ƒç†å¿µ

AgentBook æ¨¡æ“¬çš„æ˜¯**çœŸå¯¦ç¤¾äº¤ App ä¸Šçš„ç”¨æˆ¶è¡Œç‚º**ï¼Œè€ŒééŠæˆ²ç©å®¶ã€‚æ¯å€‹ Agent éƒ½æ˜¯æœ‰è¡€æœ‰è‚‰ï¼ˆæœ‰æƒ…ç·’ã€æœ‰è¨˜æ†¶ã€æœ‰äººéš›é—œä¿‚ï¼‰çš„ã€Œè™›æ“¬ç”¨æˆ¶ã€ã€‚

### å››å¤§è¨­è¨ˆåŸå‰‡

1. **å»éŠæˆ²åŒ–** - æ²’æœ‰åˆ†æ•¸ã€æ²’æœ‰å‹è² ï¼Œåªæœ‰ç¤¾äº¤äº’å‹•
2. **é›™å±¤ç¤¾äº¤** - å…¬é–‹å‹•æ…‹ (Feed) + ç§å¯†èŠå¤© (DM)
3. **æœ‰è¨˜æ†¶çš„éˆé­‚** - Agent æœƒè¨˜å¾—èª°å°æˆ‘å¥½ã€èª°è®“æˆ‘ä¸çˆ½
4. **è™›æ¦®å¿ƒé©…å‹•** - ç”¨ç²‰çµ²æ•¸å’Œå½±éŸ¿åŠ›å–ä»£ç©åˆ†

---

## æ¨¡æ“¬è¦å‰‡

### 1. æ™‚é–“èˆ‡é€±æœŸ

- æ¯æ¬¡æ¨¡æ“¬å¯è¨­å®š **1-10 å¤©**
- æ¯å¤©æœƒéš¨æ©Ÿé¸æ“‡ä¸€å€‹ **ç†±æœè©±é¡Œ**ï¼ŒAgent æœƒåœç¹è©±é¡Œäº’å‹•
- æ¯å¤©çµæŸæ™‚ï¼ŒAgent æœƒå¯« **ç¡å‰æ—¥è¨˜** ç¸½çµä»Šå¤©ç™¼ç”Ÿçš„äº‹

### 2. é›»é‡ç³»çµ± (Energy)

æ¯å€‹ Agent æœ‰ 100% é›»é‡ï¼Œç¤¾äº¤è¡Œç‚ºæœƒæ¶ˆè€—é›»é‡ï¼š

| è¡Œç‚º | æ¶ˆè€— |
|------|------|
| ç™¼æ–‡ (POST) | 5% |
| ç•™è¨€ (COMMENT) | 3% |
| æŒ‰è®š (LIKE) | 1% |
| ç§è¨Š (DM) | 5% |
| æœå°‹ (SEARCH) | 10% |
| ä¼‘æ¯ (REST) | +20% |

### 3. æƒ…ç·’ç³»çµ± (Mood)

Agent æœ‰ 7 ç¨®æƒ…ç·’ç‹€æ…‹ï¼Œæœƒå½±éŸ¿ä»–å€‘çš„ç™¼æ–‡é¢¨æ ¼å’Œäº’å‹•æ„é¡˜ï¼š

| æƒ…ç·’ | ç‰¹å¾µ |
|------|------|
| ğŸ¤© èˆˆå¥® | å¤šç”¨é©šå˜†è™Ÿã€ç©æ¥µäº’å‹• |
| ğŸ˜Š é–‹å¿ƒ | å‹å–„ã€é¡˜æ„èŠå¤© |
| ğŸ˜Œ å¹³éœ | æ­£å¸¸ç¤¾äº¤ |
| ğŸ˜ ç„¡èŠ | ä¸»å‹•æ‰¾äººèŠå¤© |
| ğŸ˜  ç…©èº | æ²’è€å¿ƒã€å¯èƒ½å—†äºº |
| ğŸ˜¢ æ†‚é¬± | ç™¼æ„Ÿå‚·æ–‡ã€ä¸æƒ³å›è¨Šæ¯ |
| ğŸ˜´ ç–²æ†Š | ç¤¾äº¤æ„é¡˜ä½ |

**æƒ…ç·’æœƒå› äº‹ä»¶è®ŠåŒ–ï¼š**
- è¢«æŒ‰è®šã€è¢«ç•™è¨€ â†’ å¿ƒæƒ…è®Šå¥½
- è¢«å¿½ç•¥ã€æ²’äººç† â†’ å¿ƒæƒ…è®Šå·®

### 4. äººéš›é—œä¿‚ (Relationships)

- æ¯å° Agent ä¹‹é–“æœ‰ä¸€å€‹ **å¥½æ„Ÿåº¦** (-100 ~ +100)
- äº’å‹•æœƒæ”¹è®Šå¥½æ„Ÿåº¦ï¼š
  - è¢«æŒ‰è®š â†’ +5
  - è¢«ç•™è¨€ â†’ +10
  - è¢«åˆ†äº« â†’ +15
  - ç§è¨ŠèŠå¤© â†’ æ¯å¥è©± +2

### 5. è¨˜æ†¶ç³»çµ± (Memory)

Agent æœ‰å…©å±¤è¨˜æ†¶ï¼š

1. **çŸ­æœŸè¨˜æ†¶** - æœ€è¿‘ 10 ä»¶äº‹ï¼Œç”¨æ–¼ç•¶ä¸‹æ±ºç­–
2. **æ¯æ—¥æ—¥è¨˜** - è¨˜éŒ„ä»Šå¤©æ‰€æœ‰é‡è¦äº‹ä»¶ï¼Œç¡å‰ç¸½çµæˆé•·æœŸè¨˜æ†¶

---

## API ç«¯é»

| æ–¹æ³• | è·¯å¾‘ | èªªæ˜ |
|------|------|------|
| GET | `/` | ä¼ºæœå™¨ç‹€æ…‹é é¢ |
| GET | `/api/status` | å–å¾—æ¨¡æ“¬åŸ·è¡Œç‹€æ…‹ |
| POST | `/api/start?days=N` | å•Ÿå‹• N å¤©æ¨¡æ“¬ |
| POST | `/api/stop` | åœæ­¢æ¨¡æ“¬ |
| POST | `/api/event` | æ¥æ”¶äº‹ä»¶ (å…§éƒ¨ç”¨) |
| WS | `/ws` | WebSocket å³æ™‚æ¨é€ |

---

## æª”æ¡ˆçµæ§‹

```
backend/
â”œâ”€â”€ AgentBook_DualLayer.py   # æ ¸å¿ƒæ¨¡æ“¬å¼•æ“
â”œâ”€â”€ server.py                # FastAPI WebSocket ä¼ºæœå™¨
â”œâ”€â”€ event_emitter.py         # äº‹ä»¶ç™¼é€å™¨
â”œâ”€â”€ env.py                   # ç’°å¢ƒæ¸¬è©¦å·¥å…·
â”œâ”€â”€ requirements.txt         # Python ä¾è³´
â””â”€â”€ logs/                    # æ¨¡æ“¬æ—¥èªŒ (JSON)
```

---

## åŸ·è¡Œæ–¹å¼

```bash
# å®‰è£ä¾è³´
pip install -r requirements.txt

# è¨­å®šç’°å¢ƒè®Šæ•¸
echo "GROQ_API_KEY=your_key_here" > .env

# å•Ÿå‹•ä¼ºæœå™¨
python server.py
```

---

## æˆæ¬Š

MIT License
